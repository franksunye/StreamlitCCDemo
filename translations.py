import streamlit as st

# 双语翻译配置
TRANSLATIONS = {
    "en": {
        "page_title": "Streamlit Community Cloud Demo",
        "sidebar_title": "🚀 Navigation Menu",
        "select_module": "Select Module:",
        "menu_home": "🏠 Home",
        "menu_data_display": "📊 Data Display", 
        "menu_file_processing": "📁 File Processing",
        "menu_database": "💬 Database",
        "menu_about": "ℹ️ About",
        "home_title": "🏠 Home - Basic Interactive Features",
        "home_welcome": "Welcome to Streamlit Community Cloud Demo! This is a comprehensive Streamlit application example.",
        "input_name_label": "Enter your name:",
        "input_name_default": "World",
        "greet_button": "Click to Greet",
        "greet_message": "Hello, {}! Welcome to Streamlit!",
        "age_slider_label": "Select your age:",
        "age_selected": "Your selected age is: {}",
        "color_select_label": "Choose your favorite color:",
        "color_selected": "Your favorite color is: {}",
        "features_title": "### 📋 Feature Description",
        "features_intro": "This application demonstrates various Streamlit features:",
        "feature_interactive": "- 🎯 User Interactive Components",
        "feature_data": "- 📊 Data Display and Analysis", 
        "feature_file": "- 📁 File Upload and Processing",
        "feature_db": "- 💬 Database Operations",
        "feature_cloud": "- ☁️ Cloud Deployment",
        
        # 数据展示页面
        "data_display_title": "📊 Data Display - Static File Reading",
        "data_display_intro": "Demonstrates reading and displaying data from static files in the project.",
        "json_data_title": "#### 📊 JSON Data File",
        "app_info_title": "**Application Information:**",
        "name_label": "- Name: {}",
        "version_label": "- Version: {}",
        "description_label": "- Description: {}",
        "features_list_title": "**Features:**",
        "user_data_title": "**User Data:**",
        "user_info": "- {} ({} years old, {})",
        "statistics_title": "**Statistics:**",
        "total_users": "- Total Users: {}",
        "avg_age": "- Average Age: {}",
        "cities": "- Cities: {}",
        "json_error": "❌ Error reading JSON file: {}",
        "csv_data_title": "#### 🌤️ CSV Data File",
        "weather_data_title": "**Weather Data:**",
        "data_stats_title": "**Data Statistics:**",
        "total_records": "- Total Records: {}",
        "city_count": "- Number of Cities: {}",
        "avg_temp": "- Average Temperature: {:.1f}°C",
        "avg_humidity": "- Average Humidity: {:.1f}%",
        "weather_dist_title": "**Weather Distribution:**",
        "weather_count": "- {}: {} times",
        "csv_error": "❌ Error reading CSV file: {}",
        
        # 文件处理页面
        "file_processing_title": "📁 File Processing - File Upload Feature",
        "file_processing_intro": "Supports uploading, reading, and content analysis of multiple file formats.",
        "file_uploader_label": "Select a text file to test file reading functionality:",
        "upload_success": "✅ Successfully uploaded file: {}",
        "file_size": "📊 File size: {} bytes",
        "file_content_title": "#### 📄 File Content:",
        "file_preview_label": "File content preview:",
        "stats_info_title": "**📈 Statistics:**",
        "line_count": "- Lines: {}",
        "word_count": "- Words: {}",
        "char_count": "- Characters: {}",
        "file_read_error": "❌ Error reading file: {}",
        "upload_prompt": "👆 Please upload a file to start testing",
        "supported_formats_title": "### 📋 Supported File Formats",
        "txt_format": "- **Text Files** (.txt) - Plain text content",
        "md_format": "- **Markdown** (.md) - Formatted documents",
        "py_format": "- **Python** (.py) - Python code files",
        "json_format": "- **JSON** (.json) - Structured data",
        "csv_format": "- **CSV** (.csv) - Tabular data",
        
        # 数据库页面
        "database_title": "💬 Database - SQLite User Feedback System",
        "database_intro": "Demonstrates CRUD operations with SQLite database.",
        "submit_feedback_title": "#### 📝 Submit Feedback",
        "feedback_name_label": "Your name:",
        "feedback_message_label": "Feedback content:",
        "submit_button": "Submit Feedback",
        "feedback_success": "✅ Feedback submitted successfully!",
        "feedback_error": "❌ Failed to submit feedback, please try again",
        "feedback_warning": "⚠️ Please fill in name and feedback content",
        "feedback_stats_title": "#### 📊 Feedback Statistics",
        "total_feedback": "Total Feedback",
        "latest_feedback_title": "**Latest Feedback:**",
        "delete_button": "Delete",
        "delete_success": "✅ Deleted successfully!",
        "delete_error": "❌ Failed to delete",
        "no_feedback": "No feedback yet",
        
        # 关于页面
        "about_title": "ℹ️ About - Application Information",
        "about_intro": "Learn more about this Streamlit application.",
        "app_features_title": "**🎯 Application Features:**",
        "feature_interactive_about": "- User Interactive Features",
        "feature_file_about": "- File Upload and Reading",
        "feature_static_about": "- Static File Processing",
        "feature_data_about": "- Data Display and Analysis",
        
        # 语言切换
        "language_selector": "🌐 Language",
        "language_en": "English",
        "language_zh": "中文",
    },
    
    "zh": {
        "page_title": "Streamlit Community Cloud Demo",
        "sidebar_title": "🚀 导航菜单",
        "select_module": "选择功能模块：",
        "menu_home": "🏠 首页",
        "menu_data_display": "📊 数据展示",
        "menu_file_processing": "📁 文件处理",
        "menu_database": "💬 数据库",
        "menu_about": "ℹ️ 关于",
        "home_title": "🏠 首页 - 基础交互功能",
        "home_welcome": "欢迎使用 Streamlit Community Cloud Demo！这是一个功能完整的 Streamlit 应用示例。",
        "input_name_label": "请输入你的名字：",
        "input_name_default": "世界",
        "greet_button": "点击问候",
        "greet_message": "你好，{}！欢迎使用 Streamlit！",
        "age_slider_label": "选择你的年龄：",
        "age_selected": "你选择的年龄是：{}",
        "color_select_label": "选择你喜欢的颜色：",
        "color_selected": "你喜欢的颜色是：{}",
        "features_title": "### 📋 功能说明",
        "features_intro": "这个应用展示了 Streamlit 的各种功能：",
        "feature_interactive": "- 🎯 用户交互组件",
        "feature_data": "- 📊 数据展示和分析",
        "feature_file": "- 📁 文件上传和处理",
        "feature_db": "- 💬 数据库操作",
        "feature_cloud": "- ☁️ 云端部署",
        
        # 数据展示页面
        "data_display_title": "📊 数据展示 - 静态文件读取",
        "data_display_intro": "展示从项目中的静态数据文件读取和展示功能。",
        "json_data_title": "#### 📊 JSON 数据文件",
        "app_info_title": "**应用信息：**",
        "name_label": "- 名称：{}",
        "version_label": "- 版本：{}",
        "description_label": "- 描述：{}",
        "features_list_title": "**功能特性：**",
        "user_data_title": "**用户数据：**",
        "user_info": "- {} ({}岁, {})",
        "statistics_title": "**统计信息：**",
        "total_users": "- 总用户数：{}",
        "avg_age": "- 平均年龄：{}",
        "cities": "- 城市：{}",
        "json_error": "❌ 读取 JSON 文件时出错：{}",
        "csv_data_title": "#### 🌤️ CSV 数据文件",
        "weather_data_title": "**天气数据：**",
        "data_stats_title": "**数据统计：**",
        "total_records": "- 总记录数：{}",
        "city_count": "- 城市数量：{}",
        "avg_temp": "- 平均温度：{:.1f}°C",
        "avg_humidity": "- 平均湿度：{:.1f}%",
        "weather_dist_title": "**天气状况分布：**",
        "weather_count": "- {}：{}次",
        "csv_error": "❌ 读取 CSV 文件时出错：{}",
        
        # 文件处理页面
        "file_processing_title": "📁 文件处理 - 文件上传功能",
        "file_processing_intro": "支持多种格式文件的上传、读取和内容分析。",
        "file_uploader_label": "选择一个文本文件来测试文件读取功能：",
        "upload_success": "✅ 成功上传文件：{}",
        "file_size": "📊 文件大小：{} 字节",
        "file_content_title": "#### 📄 文件内容：",
        "file_preview_label": "文件内容预览：",
        "stats_info_title": "**📈 统计信息：**",
        "line_count": "- 行数：{}",
        "word_count": "- 单词数：{}",
        "char_count": "- 字符数：{}",
        "file_read_error": "❌ 读取文件时出错：{}",
        "upload_prompt": "👆 请上传一个文件来开始测试",
        "supported_formats_title": "### 📋 支持的文件格式",
        "txt_format": "- **文本文件** (.txt) - 纯文本内容",
        "md_format": "- **Markdown** (.md) - 格式化文档",
        "py_format": "- **Python** (.py) - Python 代码文件",
        "json_format": "- **JSON** (.json) - 结构化数据",
        "csv_format": "- **CSV** (.csv) - 表格数据",
        
        # 数据库页面
        "database_title": "💬 数据库 - SQLite 用户反馈系统",
        "database_intro": "展示 SQLite 数据库的增删改查操作。",
        "submit_feedback_title": "#### 📝 提交反馈",
        "feedback_name_label": "您的姓名：",
        "feedback_message_label": "反馈内容：",
        "submit_button": "提交反馈",
        "feedback_success": "✅ 反馈提交成功！",
        "feedback_error": "❌ 反馈提交失败，请重试",
        "feedback_warning": "⚠️ 请填写姓名和反馈内容",
        "feedback_stats_title": "#### 📊 反馈统计",
        "total_feedback": "总反馈数",
        "latest_feedback_title": "**最新反馈：**",
        "delete_button": "删除",
        "delete_success": "✅ 删除成功！",
        "delete_error": "❌ 删除失败",
        "no_feedback": "暂无反馈",
        
        # 关于页面
        "about_title": "ℹ️ 关于 - 应用信息",
        "about_intro": "了解这个 Streamlit 应用的详细信息。",
        "app_features_title": "**🎯 应用特性：**",
        "feature_interactive_about": "- 用户交互功能",
        "feature_file_about": "- 文件上传读取",
        "feature_static_about": "- 静态文件处理",
        "feature_data_about": "- 数据展示分析",
        
        # 语言切换
        "language_selector": "🌐 语言",
        "language_en": "English",
        "language_zh": "中文",
    }
}

def get_text(key, language="en"):
    """获取指定语言的文本"""
    return TRANSLATIONS.get(language, TRANSLATIONS["en"]).get(key, key)

def get_language():
    """获取当前语言设置"""
    if 'language' not in st.session_state:
        st.session_state.language = "en"  # 默认英文
    return st.session_state.language

def set_language(language):
    """设置语言"""
    st.session_state.language = language 