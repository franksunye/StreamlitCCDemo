import streamlit as st

# åŒè¯­ç¿»è¯‘é…ç½®
TRANSLATIONS = {
    "en": {
        "page_title": "Streamlit Community Cloud Demo",
        "sidebar_title": "ğŸš€ Navigation Menu",
        "select_module": "Select Module:",
        "menu_home": "ğŸ  Home",
        "menu_data_display": "ğŸ“Š Data Display", 
        "menu_file_processing": "ğŸ“ File Processing",
        "menu_database": "ğŸ’¬ Database",
        "menu_about": "â„¹ï¸ About",
        "home_title": "ğŸ  Home - Basic Interactive Features",
        "home_welcome": "Welcome to Streamlit Community Cloud Demo! This is a comprehensive Streamlit application example.",
        "input_name_label": "Enter your name:",
        "input_name_default": "World",
        "greet_button": "Click to Greet",
        "greet_message": "Hello, {}! Welcome to Streamlit!",
        "age_slider_label": "Select your age:",
        "age_selected": "Your selected age is: {}",
        "color_select_label": "Choose your favorite color:",
        "color_selected": "Your favorite color is: {}",
        "features_title": "### ğŸ“‹ Feature Description",
        "features_intro": "This application demonstrates various Streamlit features:",
        "feature_interactive": "- ğŸ¯ User Interactive Components",
        "feature_data": "- ğŸ“Š Data Display and Analysis", 
        "feature_file": "- ğŸ“ File Upload and Processing",
        "feature_db": "- ğŸ’¬ Database Operations",
        "feature_cloud": "- â˜ï¸ Cloud Deployment",
        
        # æ•°æ®å±•ç¤ºé¡µé¢
        "data_display_title": "ğŸ“Š Data Display - Static File Reading",
        "data_display_intro": "Demonstrates reading and displaying data from static files in the project.",
        "json_data_title": "#### ğŸ“Š JSON Data File",
        "app_info_title": "**Application Information:**",
        "name_label": "- Name: {}",
        "version_label": "- Version: {}",
        "description_label": "- Description: {}",
        "features_list_title": "**Features:**",
        "user_data_title": "**User Data:**",
        "user_info": "- {} ({} years old, {})",
        "statistics_title": "**Statistics:**",
        "total_users": "- Total Users: {}",
        "avg_age": "- Average Age: {}",
        "cities": "- Cities: {}",
        "json_error": "âŒ Error reading JSON file: {}",
        "csv_data_title": "#### ğŸŒ¤ï¸ CSV Data File",
        "weather_data_title": "**Weather Data:**",
        "data_stats_title": "**Data Statistics:**",
        "total_records": "- Total Records: {}",
        "city_count": "- Number of Cities: {}",
        "avg_temp": "- Average Temperature: {:.1f}Â°C",
        "avg_humidity": "- Average Humidity: {:.1f}%",
        "weather_dist_title": "**Weather Distribution:**",
        "weather_count": "- {}: {} times",
        "csv_error": "âŒ Error reading CSV file: {}",
        
        # æ–‡ä»¶å¤„ç†é¡µé¢
        "file_processing_title": "ğŸ“ File Processing - File Upload Feature",
        "file_processing_intro": "Supports uploading, reading, and content analysis of multiple file formats.",
        "file_uploader_label": "Select a text file to test file reading functionality:",
        "upload_success": "âœ… Successfully uploaded file: {}",
        "file_size": "ğŸ“Š File size: {} bytes",
        "file_content_title": "#### ğŸ“„ File Content:",
        "file_preview_label": "File content preview:",
        "stats_info_title": "**ğŸ“ˆ Statistics:**",
        "line_count": "- Lines: {}",
        "word_count": "- Words: {}",
        "char_count": "- Characters: {}",
        "file_read_error": "âŒ Error reading file: {}",
        "upload_prompt": "ğŸ‘† Please upload a file to start testing",
        "supported_formats_title": "### ğŸ“‹ Supported File Formats",
        "txt_format": "- **Text Files** (.txt) - Plain text content",
        "md_format": "- **Markdown** (.md) - Formatted documents",
        "py_format": "- **Python** (.py) - Python code files",
        "json_format": "- **JSON** (.json) - Structured data",
        "csv_format": "- **CSV** (.csv) - Tabular data",
        
        # æ•°æ®åº“é¡µé¢
        "database_title": "ğŸ’¬ Database - SQLite User Feedback System",
        "database_intro": "Demonstrates CRUD operations with SQLite database.",
        "submit_feedback_title": "#### ğŸ“ Submit Feedback",
        "feedback_name_label": "Your name:",
        "feedback_message_label": "Feedback content:",
        "submit_button": "Submit Feedback",
        "feedback_success": "âœ… Feedback submitted successfully!",
        "feedback_error": "âŒ Failed to submit feedback, please try again",
        "feedback_warning": "âš ï¸ Please fill in name and feedback content",
        "feedback_stats_title": "#### ğŸ“Š Feedback Statistics",
        "total_feedback": "Total Feedback",
        "latest_feedback_title": "**Latest Feedback:**",
        "delete_button": "Delete",
        "delete_success": "âœ… Deleted successfully!",
        "delete_error": "âŒ Failed to delete",
        "no_feedback": "No feedback yet",
        
        # å…³äºé¡µé¢
        "about_title": "â„¹ï¸ About - Application Information",
        "about_intro": "Learn more about this Streamlit application.",
        "app_features_title": "**ğŸ¯ Application Features:**",
        "feature_interactive_about": "- User Interactive Features",
        "feature_file_about": "- File Upload and Reading",
        "feature_static_about": "- Static File Processing",
        "feature_data_about": "- Data Display and Analysis",
        
        # è¯­è¨€åˆ‡æ¢
        "language_selector": "ğŸŒ Language",
        "language_en": "English",
        "language_zh": "ä¸­æ–‡",
    },
    
    "zh": {
        "page_title": "Streamlit Community Cloud Demo",
        "sidebar_title": "ğŸš€ å¯¼èˆªèœå•",
        "select_module": "é€‰æ‹©åŠŸèƒ½æ¨¡å—ï¼š",
        "menu_home": "ğŸ  é¦–é¡µ",
        "menu_data_display": "ğŸ“Š æ•°æ®å±•ç¤º",
        "menu_file_processing": "ğŸ“ æ–‡ä»¶å¤„ç†",
        "menu_database": "ğŸ’¬ æ•°æ®åº“",
        "menu_about": "â„¹ï¸ å…³äº",
        "home_title": "ğŸ  é¦–é¡µ - åŸºç¡€äº¤äº’åŠŸèƒ½",
        "home_welcome": "æ¬¢è¿ä½¿ç”¨ Streamlit Community Cloud Demoï¼è¿™æ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„ Streamlit åº”ç”¨ç¤ºä¾‹ã€‚",
        "input_name_label": "è¯·è¾“å…¥ä½ çš„åå­—ï¼š",
        "input_name_default": "ä¸–ç•Œ",
        "greet_button": "ç‚¹å‡»é—®å€™",
        "greet_message": "ä½ å¥½ï¼Œ{}ï¼æ¬¢è¿ä½¿ç”¨ Streamlitï¼",
        "age_slider_label": "é€‰æ‹©ä½ çš„å¹´é¾„ï¼š",
        "age_selected": "ä½ é€‰æ‹©çš„å¹´é¾„æ˜¯ï¼š{}",
        "color_select_label": "é€‰æ‹©ä½ å–œæ¬¢çš„é¢œè‰²ï¼š",
        "color_selected": "ä½ å–œæ¬¢çš„é¢œè‰²æ˜¯ï¼š{}",
        "features_title": "### ğŸ“‹ åŠŸèƒ½è¯´æ˜",
        "features_intro": "è¿™ä¸ªåº”ç”¨å±•ç¤ºäº† Streamlit çš„å„ç§åŠŸèƒ½ï¼š",
        "feature_interactive": "- ğŸ¯ ç”¨æˆ·äº¤äº’ç»„ä»¶",
        "feature_data": "- ğŸ“Š æ•°æ®å±•ç¤ºå’Œåˆ†æ",
        "feature_file": "- ğŸ“ æ–‡ä»¶ä¸Šä¼ å’Œå¤„ç†",
        "feature_db": "- ğŸ’¬ æ•°æ®åº“æ“ä½œ",
        "feature_cloud": "- â˜ï¸ äº‘ç«¯éƒ¨ç½²",
        
        # æ•°æ®å±•ç¤ºé¡µé¢
        "data_display_title": "ğŸ“Š æ•°æ®å±•ç¤º - é™æ€æ–‡ä»¶è¯»å–",
        "data_display_intro": "å±•ç¤ºä»é¡¹ç›®ä¸­çš„é™æ€æ•°æ®æ–‡ä»¶è¯»å–å’Œå±•ç¤ºåŠŸèƒ½ã€‚",
        "json_data_title": "#### ğŸ“Š JSON æ•°æ®æ–‡ä»¶",
        "app_info_title": "**åº”ç”¨ä¿¡æ¯ï¼š**",
        "name_label": "- åç§°ï¼š{}",
        "version_label": "- ç‰ˆæœ¬ï¼š{}",
        "description_label": "- æè¿°ï¼š{}",
        "features_list_title": "**åŠŸèƒ½ç‰¹æ€§ï¼š**",
        "user_data_title": "**ç”¨æˆ·æ•°æ®ï¼š**",
        "user_info": "- {} ({}å², {})",
        "statistics_title": "**ç»Ÿè®¡ä¿¡æ¯ï¼š**",
        "total_users": "- æ€»ç”¨æˆ·æ•°ï¼š{}",
        "avg_age": "- å¹³å‡å¹´é¾„ï¼š{}",
        "cities": "- åŸå¸‚ï¼š{}",
        "json_error": "âŒ è¯»å– JSON æ–‡ä»¶æ—¶å‡ºé”™ï¼š{}",
        "csv_data_title": "#### ğŸŒ¤ï¸ CSV æ•°æ®æ–‡ä»¶",
        "weather_data_title": "**å¤©æ°”æ•°æ®ï¼š**",
        "data_stats_title": "**æ•°æ®ç»Ÿè®¡ï¼š**",
        "total_records": "- æ€»è®°å½•æ•°ï¼š{}",
        "city_count": "- åŸå¸‚æ•°é‡ï¼š{}",
        "avg_temp": "- å¹³å‡æ¸©åº¦ï¼š{:.1f}Â°C",
        "avg_humidity": "- å¹³å‡æ¹¿åº¦ï¼š{:.1f}%",
        "weather_dist_title": "**å¤©æ°”çŠ¶å†µåˆ†å¸ƒï¼š**",
        "weather_count": "- {}ï¼š{}æ¬¡",
        "csv_error": "âŒ è¯»å– CSV æ–‡ä»¶æ—¶å‡ºé”™ï¼š{}",
        
        # æ–‡ä»¶å¤„ç†é¡µé¢
        "file_processing_title": "ğŸ“ æ–‡ä»¶å¤„ç† - æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½",
        "file_processing_intro": "æ”¯æŒå¤šç§æ ¼å¼æ–‡ä»¶çš„ä¸Šä¼ ã€è¯»å–å’Œå†…å®¹åˆ†æã€‚",
        "file_uploader_label": "é€‰æ‹©ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶æ¥æµ‹è¯•æ–‡ä»¶è¯»å–åŠŸèƒ½ï¼š",
        "upload_success": "âœ… æˆåŠŸä¸Šä¼ æ–‡ä»¶ï¼š{}",
        "file_size": "ğŸ“Š æ–‡ä»¶å¤§å°ï¼š{} å­—èŠ‚",
        "file_content_title": "#### ğŸ“„ æ–‡ä»¶å†…å®¹ï¼š",
        "file_preview_label": "æ–‡ä»¶å†…å®¹é¢„è§ˆï¼š",
        "stats_info_title": "**ğŸ“ˆ ç»Ÿè®¡ä¿¡æ¯ï¼š**",
        "line_count": "- è¡Œæ•°ï¼š{}",
        "word_count": "- å•è¯æ•°ï¼š{}",
        "char_count": "- å­—ç¬¦æ•°ï¼š{}",
        "file_read_error": "âŒ è¯»å–æ–‡ä»¶æ—¶å‡ºé”™ï¼š{}",
        "upload_prompt": "ğŸ‘† è¯·ä¸Šä¼ ä¸€ä¸ªæ–‡ä»¶æ¥å¼€å§‹æµ‹è¯•",
        "supported_formats_title": "### ğŸ“‹ æ”¯æŒçš„æ–‡ä»¶æ ¼å¼",
        "txt_format": "- **æ–‡æœ¬æ–‡ä»¶** (.txt) - çº¯æ–‡æœ¬å†…å®¹",
        "md_format": "- **Markdown** (.md) - æ ¼å¼åŒ–æ–‡æ¡£",
        "py_format": "- **Python** (.py) - Python ä»£ç æ–‡ä»¶",
        "json_format": "- **JSON** (.json) - ç»“æ„åŒ–æ•°æ®",
        "csv_format": "- **CSV** (.csv) - è¡¨æ ¼æ•°æ®",
        
        # æ•°æ®åº“é¡µé¢
        "database_title": "ğŸ’¬ æ•°æ®åº“ - SQLite ç”¨æˆ·åé¦ˆç³»ç»Ÿ",
        "database_intro": "å±•ç¤º SQLite æ•°æ®åº“çš„å¢åˆ æ”¹æŸ¥æ“ä½œã€‚",
        "submit_feedback_title": "#### ğŸ“ æäº¤åé¦ˆ",
        "feedback_name_label": "æ‚¨çš„å§“åï¼š",
        "feedback_message_label": "åé¦ˆå†…å®¹ï¼š",
        "submit_button": "æäº¤åé¦ˆ",
        "feedback_success": "âœ… åé¦ˆæäº¤æˆåŠŸï¼",
        "feedback_error": "âŒ åé¦ˆæäº¤å¤±è´¥ï¼Œè¯·é‡è¯•",
        "feedback_warning": "âš ï¸ è¯·å¡«å†™å§“åå’Œåé¦ˆå†…å®¹",
        "feedback_stats_title": "#### ğŸ“Š åé¦ˆç»Ÿè®¡",
        "total_feedback": "æ€»åé¦ˆæ•°",
        "latest_feedback_title": "**æœ€æ–°åé¦ˆï¼š**",
        "delete_button": "åˆ é™¤",
        "delete_success": "âœ… åˆ é™¤æˆåŠŸï¼",
        "delete_error": "âŒ åˆ é™¤å¤±è´¥",
        "no_feedback": "æš‚æ— åé¦ˆ",
        
        # å…³äºé¡µé¢
        "about_title": "â„¹ï¸ å…³äº - åº”ç”¨ä¿¡æ¯",
        "about_intro": "äº†è§£è¿™ä¸ª Streamlit åº”ç”¨çš„è¯¦ç»†ä¿¡æ¯ã€‚",
        "app_features_title": "**ğŸ¯ åº”ç”¨ç‰¹æ€§ï¼š**",
        "feature_interactive_about": "- ç”¨æˆ·äº¤äº’åŠŸèƒ½",
        "feature_file_about": "- æ–‡ä»¶ä¸Šä¼ è¯»å–",
        "feature_static_about": "- é™æ€æ–‡ä»¶å¤„ç†",
        "feature_data_about": "- æ•°æ®å±•ç¤ºåˆ†æ",
        
        # è¯­è¨€åˆ‡æ¢
        "language_selector": "ğŸŒ è¯­è¨€",
        "language_en": "English",
        "language_zh": "ä¸­æ–‡",
    }
}

def get_text(key, language="en"):
    """è·å–æŒ‡å®šè¯­è¨€çš„æ–‡æœ¬"""
    return TRANSLATIONS.get(language, TRANSLATIONS["en"]).get(key, key)

def get_language():
    """è·å–å½“å‰è¯­è¨€è®¾ç½®"""
    if 'language' not in st.session_state:
        st.session_state.language = "en"  # é»˜è®¤è‹±æ–‡
    return st.session_state.language

def set_language(language):
    """è®¾ç½®è¯­è¨€"""
    st.session_state.language = language 